Краткое описание задачи:

Я хочу скрипт, который будет преобразовывать pdf-файл со сканами задачника в csv-файл.
Скрипт должен использовать ChatGPT-4 Vision. Он НЕ должен использовать уже имеющийся в файле слой OCR, поскольку он содержит огромное количество ошибок.
Скрипт должен быть написан на python.

В pdf файле находится задачник по математике для начальной школы. Он написан на русском языке.
Мне требуется, чтобы был обработан весь задачник, страница за страницей. Каждой задаче должна соответствовать одна строка в таблице. Колонки таблицы: номер страницы, номер задачи, её текст, приложена ли к этой задаче картинка.

В этом задачнике некоторые задачи имеют номер (записывай его), а другие номера не имеют. Для задач без номера сделай отдельную нумерацию, приписывая к номерам префикс `unknown-`.

Учитывай, что ChatGPT-4 Vision не может обрабатывать слишком большой объём данных за один раз. Поэтому ты должен разбить задачник на страницы и обрабатывать их по одной.

Чтобы не потерять данные, ты должен сохранять номер страницы, на которой находится задача, и номер задачи на этой странице.

У меня есть доступ к API OpenAI, токен записан в файле .env.

---

Чтобы выполнить эту задачу, ты должен создать следующие документы:

* docs/PRD.mdc - project requirements document, то есть техническое задание для разработки. В нем должны быть пунткы:
    * Overview - описание проекта в целом.
    * Основные пользовательские сценарии.
    * Функциональные требования
    * Non-goals
    * Milestones (ключевые этапы) и план выполнения (release plan)
* docs/technical-spec.mdc - технический стек. В формате таблиц markdown таблицы. Должны быть описаны слои приложения: бекенд, фронтенд, итп. Для каждой используемой библиотеки должна быть зафиксирована название, версия, для чего нужна, ссылка на документацию и в отдельном поле альтернативные варианты с описанием того, почему выбраны не альтернативные варианты.
* Описание структуры проекта. В формате таблицы с колонками: папка, файл, назначение.
* docs/implementation_plan.mdc Подробный план разработки. В нем должны быть указаны Milestones по каждой задаче: её текущий статус и чёткиекритерии приёмки.
* docs/implementation_flow_flow.mdc - файл с общими правилами и ограничениями разработки этого проекта. Используй лучшие практики. Добавь туда следующие правила:
    * Сделай так, чтобы все сгенерированные файлы в папке docs всегда учитывались курсором при разработке.
    * **КАТЕГОРИЧЕСКИ ЗАПРЕЩЕНО** изменять файлы за пределами этого проекта.
    * Выполняй задачи по одной.
    * Перед тем, как приступать к выполнению задачи, Cursor может доопределить задачу;
    * По окончании выполнения задачи, Cursor должен отметить статус выполнения, а также, что именно было сделано в рамках задачи. Он должен выписать обнаруженные проблемы, касающиеся этой задачи, если такие есть и не могут быть исправлены на данном этапе. Если проблемы могут быть исправлены, их необходимо исправить до завершения этапа.
    * Также в процессе написания программы могут появиться новые подзадачи. Cursor должен дописать их в план разработки. Но он не должен изменять набор *исходных* задач и их формулировки, а только дописывать комментарии к ним. Должно быть понятно, где исходное описание, а где дополнения, выполненные в процессе работы.
    * Прежде чем считать этап завершённым должны быть удовлетворены критерии приёмки задачи. Статусы прохождения этих проверок должны быть заполнены после выполнения этапа.
    * Дополни план разработки списком часто встречающихся проблем с кодом, которых Cursor должен избежать.
    * Пиши как можно меньше кода.
    * Логгируй каждое действие, которое выполняет программа в процессе работы, чтобы можно было проанализировать результаты её запуска и обнаружить соответствие задаче и критериям приёмки.

